/* irform.irexplorer.min.js (2017.08.22) by Blaise Lengrand
 */
!function(r){r.irRequire||(r.irRequire=function(r,e,i,n){var u=-1,t=irRequire;e||(u=r,r=t.r[u][0],e=t.r[u][1],i=t.r[u][2],t.r[u][3]-=100,n=t.r[u][3]),"undefined"==typeof n&&(n=5e3),"string"==typeof r&&(r=[r]);var f=1;try{for(var o in r)if("undefined"==typeof eval(r[o])){f=0;break}}catch(r){f=0}f?(u>=0&&(clearTimeout(t.r[u][4]),t.r[u]=0),e(i)):(0>u&&(t.r.push([r,e,i,n]),u=t.r.length-1),n>0&&(t.r[u][4]=setTimeout(function(){t(u)},100)))},r.irRequire.r=[],r.irRequire.trigger=function(){irRequire.r.forEach(function(r,e){r&&irRequire(e)})})}(window);var Irform=function(r,e,t){irRequire.trigger(),this.container=$(r),this.formDescription=e,this.options=$.extend(!0,{},Irform.defaultOptions,t),this.container.empty(),this.container.addClass("irform-layout"),this.options.hookInit.call(this),this.create(r,e)};Irform.CHAR_A_Z=1,Irform.CHAR_0_9=2,Irform.CHAR_SPACE=4,Irform.CHAR_SPECIAL=8,Irform.CHAR_DASH=16,Irform.CHAR_UPPERCASE_ONLY=32,Irform.CHAR_LOWERCASE_ONLY=64,Irform.EMAIL={rule:"^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[a-zA-Z]{2,}$",msg:"Please enter a valid email"},Irform.defaultOptions={fields:{input:function(r,e){return $("<input>",{type:"text",name:r,class:"irform",placeholder:e.placeholder})},checkbox:function(r,e){var t=function(r,e,t){var i=$("<div>",{class:t?"irform-inline":""}),n=$("<input>",{type:"checkbox",name:r,class:"irform",id:"irform-checkbox-"+ ++Irform.unique});return $(i).append(n),$(i).append('<label for="'+$(n).prop("id")+'">'+e+"</label>"),i};if(!e.list)return t(r,"",!1);if(1==e.list.length)return t(r,e.list[0],!1);var i=$("<div>",{class:"irform-container",name:r}),n=e.list;for(var a in n){var o=t("string"==typeof a?a:n[a],n[a],e.inline);$(i).append(o)}return i},switch:function(r){var e=$("<div>",{class:"irform irform-switch"}),t=$("<input>",{type:"checkbox",name:r,id:"irform-switch-"+ ++Irform.unique});return $(e).append(t),$(e).append('<label for="'+$(t).prop("id")+'"></label>'),e},password:function(r,e){return $("<input>",{type:"password",name:r,class:"irform",placeholder:e.placeholder})},textarea:function(r,e){return $("<textarea>",{name:r,class:"irform",placeholder:e.placeholder})},submit:function(r,e){var t=$("<button>",{type:"button",name:r,class:"irform"});$(t).html(e.value||"Submit");var i=this;return $(t).click(function(){i.submit(e.callback)}),t},select:function(r,e){var t=$("<select>",{name:r,class:"irform"}),i=e.list;for(var r in i){var n=$("<option>",{value:i instanceof Array?i[r]:r});$(n).html(i[r]),$(t).append(n)}return t}},defaultType:"input",caption:!0,wrapper:function(r,e){var t=$("<div>");if(this.options.caption){var i=$("<div>",{class:"irform-caption"});$(i).text(e.caption),$(t).append(i)}var n=$("<div>",{class:"irform-elements"});return $(n).append(r),$(t).append(n),t},callbackError:function(r){this.container.find(".irform-item.error").removeClass("error");for(var e in r){var t="",i=null,n=r[e];switch($(n.item).removeClass("success").addClass("error"),n.type){case"required":t="This field is required",i="required-"+n.name;break;case"validation":t=n.msg?n.msg:"This field does not validate",i="validation-"+n.name}t&&Irnotify(t,{container:$(n.item).find(".irform-elements"),type:"error",id:i})}},callbackSuccess:function(r,e){$(r).removeClass("error").addClass("success"),Irnotify.delete("*",r)},callbackClean:function(){Irnotify.delete("*",this.container)},disable:function(r,e){var t=Irform.findNameHolder(e);$(t).find("input,textarea,select,button").add(t).prop("disabled",r),$(e).find("input,textarea,select,button").filter(".irform").prop("disabled",r),r?$(e).addClass("disable"):$(e).removeClass("disable"),Irform.queue(t,function(){$(t).trigger(r?"disable":"enable")})},hookInit:function(){}},Irform.validate=function(r,e){if("string"==typeof e){var t=[];return r&Irform.CHAR_UPPERCASE_ONLY&&/[a-z]/g.test(e)?"This field must be upper case only":r&Irform.CHAR_LOWERCASE_ONLY&&/[A-Z]/g.test(e)?"This field must be lower case only":(r&Irform.CHAR_A_Z&&(e=e.replace(/[a-z]/gi,""),t.push("alphanumeric characters")),r&Irform.CHAR_0_9&&(e=e.replace(/[0-9]/g,""),t.push("numbers")),r&Irform.CHAR_DASH&&(e=e.replace(/-_/g,""),t.push("underscores (_), dashes (-)")),r&Irform.CHAR_SPACE&&(e=e.replace(/[ ]/g,""),t.push("spaces")),r&Irform.CHAR_SPECIAL&&(e=e.replace(/[!"#\$%&'\(\)\*\+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]/g,""),t.push("special characters")),""===e||!t.length||"This field only accepts "+t.join(", "))}return!0},Irform.findNameHolder=function(r,e){return"undefined"==typeof e&&(e=$(r).hasClass("irform-item")?$(r).attr("data-irform"):null),$(r).find("[name"+(e?"="+e:"")+"]").addBack("[name"+(e?"="+e:"")+"]").first()},Irform.prototype.create=function(r,e){"undefined"==typeof Irform.unique&&(Irform.unique=0);for(var t in e){var i=this,n=$.extend({name:"irform"+ ++Irform.unique,type:this.options.defaultType,required:!1,validate:null,mask:null,disabled:!1,ignore:"undefined"==typeof e[t].name,options:{}},e[t]),a=n.name;e[t]=n;var o=n.type;if("function"==typeof this.options.fields[o]){var s=this.options.fields[o].call(this,a,n,function(){$(this).removeClass("irform-pending"),Irform.queue(this)}),f=Irform.findNameHolder(s,a);$(f).on("change",function(){var r=$(this).prop("name")||$(this).attr("name"),e=Irform.get(this)[r],t=$(this).closest(".irform-item"),n=$(t).data("irform");if(!Irform.isEmpty(e)&&n.validate){var a=i.validate(t,e);a===!0?i.options.callbackSuccess.call(i,t,r):i.options.callbackError.call(i,[{type:"validation",msg:a,item:t,name:r,options:n}])}else!Irform.isEmpty(e)&&$(t).hasClass("required")&&i.options.callbackSuccess.call(i,t,r);"function"==typeof n.onchange?n.onchange.call(i,t,e):"object"==typeof n.onchange&&($(this).data("nextElement")&&$(t).nextUntil($(this).data("nextElement")).remove(),$(this).data("nextElement",$(t).next()),"object"==typeof n.onchange[e]?i.create(t,n.onchange[e]):"object"==typeof n.onchange.__default__&&i.create(t,n.onchange.__default__))});var l=this.options.wrapper.call(this,s,n,a);$(l).addClass("irform-item"),n.width&&$(l).css("width",n.width),$(l).attr("data-irform",a),n.required&&$(l).addClass("required"),n.disabled&&Irform.queue(f,function(){i.options.disable.call(i,!0,$(this).closest(".irform-item"))}),n.mask&&$(f).on("input",function(){var r=$(this).closest(".irform-item").data("irform");Irform.mask(this,r.mask)}),$(l).data("irform",n),$(r).hasClass("irform-item")?$(r).after(l):$(r).append(l)}else console.log("'"+o+"' is not supported")}for(var t in e){var a=e[t].name,f=Irform.findNameHolder(this.container,a);Irform.queue(f,function(){$(this).trigger("change")})}},Irform.mask=function(r,e){for(var t=$(r).val(),i="",n=0;n<e.length&&t;n++){var a=t[0];if("9"==e[n]){if(/[^0-9]/.test(a))break}else if("z"==e[n]){if(/[^a-z]/i.test(a))break}else if("*"==e[n]){if(/[^a-z0-9]/i.test(a))break}else if(e[n]!=a){i+=e[n];continue}i+=a,t=t.substr(1)}$(r).val(i)},Irform.prototype.submit=function(r){var e=this.get();if(e!==!1)if("function"==typeof r)r.call(this,e);else if(this.container.is("form")){var t=$("<form>",{action:this.container.prop("action"),method:this.container.prop("method")||"POST",enctype:"multipart/form-data",style:"display: none;"}),i=function(r,e){var t="";for(var n in r)t+="object"==typeof r[n]?i(r[n],e?e+"["+n+"]":n):'<input name="'+(e?e+"["+n+"]":n)+'" value="'+(r[n]+"").replace(/"/g,"&quot;")+'"/>';return t},n=i(e,"");$(t).html(n),this.container.find("input[type=file]").each(function(){$(this).appendTo(t)}),$("body").append(t),t.submit()}},Irform.prototype.findNameHolder=function(r){return Irform.findNameHolder(this.container,r)},Irform.prototype.disable=function(){var r=this.options.disable;this.each(function(e){r.call(this,!0,e)})},Irform.prototype.enable=function(){var r=this.options.disable;this.each(function(e){r.call(this,!1,e)})},Irform.prototype.update=function(r){var e=this.get(function(){},!0);this.container.empty(),this.formDescription=r,this.create(this.container,r),this.set(e)},Irform.prototype.ignore=function(r,e){var t=$(r).data("irform");t.ignore=e,$(r).data("irform",t)},Irform.prototype.validate=function(r,e){var t=$(r).data("irform"),i=function r(e,t,i,n){var a=function(r){return r===!0||(n?n:r)};if($.isArray(i))for(var o in i){var s=r.call(this,e,t,i[o],n);if(s!==!0)return s}else{if("object"==typeof i)return r.call(this,e,t,i.rule,i.msg);if("number"==typeof i)return a(Irform.validate(i,t));if("string"==typeof i){var f;if(Irform.validate(Irform.CHAR_A_Z|Irform.CHAR_0_9|Irform.CHAR_DASH,i)===!0){var f=this.findNameHolder(i);if(f.length)return a(t==f.val()||"This field does not match '"+i+"'")}var l=new RegExp(i,"g");return a(!!l.test(t)||null)}if("function"==typeof i)return a(i.call(this,t,e))}return!0};return i.call(this,r,e,t.validate,null)},Irform.prototype.each=function(r){var e=this;this.container.find(".irform-item").each(function(){r.call(e,this)})},Irform.prototype.get=function(r,e){var t=!1,i=[],n=this;"undefined"==typeof e&&(e=!1);var a=$();this.each(function(r){a=a.add($("[name="+$(r).attr("data-irform")+"]"))}),this.options.callbackClean.call(this);var o=Irform.get(a,function(a,o){var s=$(this).closest(".irform-item"),f=s.data("irform");if(!e){if(f.ignore)return null;if(Irform.isEmpty(o)&&s.hasClass("required")&&(i.push({type:"required",item:s,name:a,options:f}),t=!0),f.validate){var l=n.validate(s,o);l!==!0&&(i.push({type:"validation",msg:l,item:s,name:a,options:f}),t=!0)}if("function"==typeof r){var l=r.call(n,s,a,o);if("undefined"!=typeof l)return l}}});return t?(this.options.callbackError.call(this,i),!1):o},Irform.prototype.set=function(r){var e={};do{var t=!1;Irform.set(this.container,r,function(r){return"undefined"!=typeof e[r]?null:(e[r]=!0,void(t=!0))})}while(t)},Irform.queue=function(r,e){if("function"==typeof e)if($(r).hasClass("irform-pending")){var t=$(r).data("irform-queue")||[];t.push(e),$(r).data("irform-queue",t)}else e.call(r);else{for(var t=$(r).data("irform-queue")||[];t.length;){var e=t.shift();e.call(r)}$(r).data("irform-queue",[])}},Irform.set=function(r,e,t){var i=$(r).find("[name]").addBack("[name]").not("a").filter(function(){var e=$(this).parent().closest("[name]");return 0==e.length||0==$(r).find(e).length&&0==$(r).filter(e).length}),n=0;$(i).each(function(){var r=$(this).prop("name")||$(this).attr("name");if("undefined"!=typeof e[r]){var i=e[r];if("function"==typeof t){var a=t.call(this,r,i);if("undefined"!=typeof a){if(null===a)return;i=a}}Irform.queue(this,function(){$(this).hasClass("irform-container")?Irform.set($(this).children(),i):$(this).is("input[type=checkbox]")?$(this).prop("checked",i):$(this).val(i),$(this).trigger("change")}),delete e[r],n++}}),!jQuery.isEmptyObject(e)&&n&&Irform.set(r,e,t)},Irform.get=function(r,e){var t={},i=$(r).find("[name]").addBack("[name]").not("a").filter(function(){var e=$(this).parent().closest("[name]");return 0==e.length||0==$(r).find(e).length&&0==$(r).filter(e).length});return $(i).each(function(){if(!$(this).hasClass("irform-pending")){var r=$(this).prop("name")||$(this).attr("name");if(r){var i=$(this).hasClass("irform-container")?Irform.get($(this).children()):$(this).is("input[type=checkbox]")?$(this).is(":checked")?"selected":"":$(this).val();if("function"==typeof e){var n=e.call(this,r,i);if("undefined"!=typeof n){if(null===n)return;i=n}}t[r]=i}}}),t},Irform.jQueryHookVal=function(r,e,t){var i=jQuery.fn.val;jQuery.fn.val=function(n){if(!arguments.length)return $(this).is(r)?e.call(this):i.apply(this,arguments);var a=n;return $(this).each(function(){var e=a;$(this).is(r)?t.call(this,e):i.call($(this),e)}),this}},Irform.clear=function(r){$(r).find(".irform-array").trigger("array-empty"),$(r).find("[name]").val("").trigger("change")},Irform.isEmpty=function(r){if("object"==typeof r){var e=!0;for(var t in r)e&=Irform.isEmpty(r[t]);return e}return!r};var Irnotify=function(e,i){i=$.extend(!0,{},Irnotify.defaults,i);var t=i.container;i.id&&Irnotify.delete(i.id,t);var n=$(t).children(".irnotify");if(n.length||(n=$("<div/>",{class:"irnotify"}),$(t).prepend(n)),i.group){var r=$(n).children(".irnotify-group."+i.type);r.length||(r=$("<div/>",{class:"irnotify-group "+i.type}),$(n).prepend(r)),n=r}var o=$("<div/>",{class:"irnotify-entry "+i.type+(i.id?" irnotify-id-"+i.id:"")}),d=$("<div/>",{class:"message"});if($(d).html(e),$(o).append(d),i.delete){var s=$("<div/>",{class:"delete"});$(s).html(i.delete),$(s).click(function(){Irnotify.delete(this)}),$(o).append(s)}$(n).append(o),this.entry=o};Irnotify.prototype.delete=function(){Irnotify.delete(this.entry)},Irnotify.delete=function(e,i){"string"==typeof e&&(e=$(i||"body").find("*"==e?"[class*=irnotify-id-]":".irnotify-id-"+e)),$(e).closest(".irnotify-entry").each(function(){var e=$(this),i=e.parent();e.remove(),i.hasClass("irnotify-group")&&!i.children().length&&(e=i,i=e.parent(),e.remove()),i.hasClass("irnotify")&&!i.children().length&&i.remove()})},Irnotify.defaults={group:!1,id:null,delete:'<span class="icon-cross"></span>',type:"info",container:"body"};!function(r){r.fn.irformArray=function(a,t){var i;return r(this).each(function(){i=r().irformArray.x.call(this,a,t)}),"undefined"==typeof i?r(this):i},r.fn.irformArray.x=function(a){var t=r.fn.irformArray.defaults,i="create";switch("string"==typeof a&&(i=a),"create"!=i&&r(this).data("irformArray")&&(t=r(this).data("irformArray")),"object"==typeof a&&(t=r.extend(!0,{},t,a)),r(this).data("irformArray",t),i){case"create":r.fn.irformArray.create.call(this)}},r.fn.irformArray.deleteItem=function(a){r(this).prop("disabled")!==!0&&r(a).remove()},r.fn.irformArray.moveItemUp=function(a){if(r(this).prop("disabled")!==!0){var t=r(a).prev(".irform-array-item");t.length&&(r(a).detach(),t.before(a))}},r.fn.irformArray.moveItemDown=function(a){if(r(this).prop("disabled")!==!0){var t=r(a).next(".irform-array-item");t.length&&(r(a).detach(),t.after(a))}},r.fn.irformArray.add=function(){var a=this,t=r(this).data("irformArray"),i=t.template,n=r("<div>",{class:"irform-array-item"});if(t.inline&&(r(n).addClass("inline"),r(n).css("display","inline-block")),t.isDelete){var o=r("<div>",{class:"irform-array-item-del"});r(o).html(t.delete),r(o).click(function(){r.fn.irformArray.deleteItem.call(a,n)}),r(n).append(o)}if(t.isMove){var e=r("<div>",{class:"irform-array-item-up"});r(e).html(t.up),r(e).click(function(){r.fn.irformArray.moveItemUp.call(a,n)}),r(n).append(e);var f=r("<div>",{class:"irform-array-item-down"});r(f).html(t.down),r(f).click(function(){r.fn.irformArray.moveItemDown.call(a,n)}),r(n).append(f)}var s=r("<div>",{class:"irform-array-item-content"});"function"==typeof i?r(s).html(i.call(a,n)):"object"==typeof i?new Irform(s,i,t.irformOptions):r(s).html(r(i).clone(!0,!0)),r(n).append(s),r(this).find(".irform-array-content:first").append(n),t.hookAdd.call(a,n)},r.fn.irformArray.clear=function(){r(this).find(".irform-array-content:first").empty()},r.fn.irformArray.create=function(){var a=this,t=r(this).data("irformArray");r(a).empty(),r(a).addClass("irform-array"),r(a).attr("name",t.name);var i=r("<div>",{class:"irform-array-content",style:t.inline?"display:inline-block;":""});if(r(a).append(i),r(a).on("array-add",function(t){t.stopPropagation(),r.fn.irformArray.add.call(a)}),r(a).on("array-empty",function(t){t.stopPropagation(),r.fn.irformArray.clear.call(a)}),t.isAdd){var n=r("<div>",{class:"irform-array-add",style:"display:inline-block;"});r(n).html(t.add),r(n).click(function(){r(a).prop("disabled")!==!0&&r(a).trigger("array-add")}),r(a).append(n)}},r.fn.irformArray.defaults={name:null,template:'<input class="irform" type="text" name="text" />',irformOptions:{},inline:!1,isDelete:!0,isAdd:!0,isMove:!0,delete:'<button class="irform dock-left" type="button"><span class="icon-cross"></span></button>',add:'<button class="irform" type="button"><span class="icon-plus"></span> Add</button>',up:'<button class="irform dock-right" type="button"><span class="icon-arrow-up"></span></button>',down:'<button class="irform dock-left dock-right" type="button"><span class="icon-arrow-down"></span></button>',hookAdd:function(){},hookValWrite:function(r){return r},hookValRead:function(r){return r}}}(jQuery),Irform.jQueryHookVal(".irform-array",function(){var r=[];$(this).children(".irform-array-content:first").children(".irform-array-item").each(function(a){r[a]=Irform.get(this)});var a=$(this).data("irformArray");return a.hookValRead.call(this,r)},function(r){var a=$(this).data("irformArray");r=a.hookValWrite.call(this,r),$(this).trigger("array-empty");for(var t in r){$(this).trigger("array-add");var i=$(this).children(".irform-array-content:first").children(".irform-array-item:last");Irform.set(i,r[t])}}),Irform.defaultOptions.fields.array=function(r,a){var t=$("<div>");return $(t).irformArray({name:r,template:a.template,inline:a.inline,irformOptions:a.irformOptions}),t};!function(r){r.fn.irformArrayTags=function(i){r(this).irformArray(r.extend(!0,r.fn.irformArrayTags.defaults,i))},r.fn.irformArrayTags.defaults={template:'<span><span class="irform-array-tags-edit"><button class="irform-array-item-left irform dock-right" type="button"><span class="icon-arrow-left"></span></button><input type="text" class="irform inline dock-left dock-right" name="keyword"/><button class="irform-array-item-right irform dock-left" type="button"><span class="icon-arrow-right"></span></button></span><span class="irform-array-tags-tag irform border inline clickable" style="display: none;"><span></span><span class="irform-array-item-del" style="margin-left: 10px;"><span class="icon-cross"></span></span></span></span>',isMove:!1,isDelete:!1,inline:!0,hookAdd:function(i){var a=this,t=r(i).find(".irform-array-tags-edit"),n=r(i).find(".irform-array-tags-tag");r(i).find("input").on("blur",function(){var o=r(this).val();o?(r(t).hide(),r(n).find("span:first").text(o),r(n).show()):r().irformArray.deleteItem.call(a,i)}).on("change",function(){r(this).trigger("blur")}),r(n).click(function(){r(a).prop("disabled")!==!0&&(r(a).find(".irform-array-item").not(i).find("input").trigger("blur"),r(this).hide(),r(t).show())}),r(i).find(".irform-array-item-left").click(function(){r().irformArray.moveItemUp.call(a,i)}),r(i).find(".irform-array-item-right").click(function(){r().irformArray.moveItemDown.call(a,i)}),r(i).find(".irform-array-item-del").click(function(){r().irformArray.deleteItem.call(a,i)}),r(this).find(".irform-array-item").not(i).find("input").trigger("blur")},hookValWrite:function(r){r=r.split(",");var i=[];for(var a in r){var t=r[a].trim();t&&i.push({keyword:t})}return i},hookValRead:function(r){for(var i in r)r[i]=r[i].keyword;return r.join(", ")}}}(jQuery),Irform.defaultOptions.fields.tags=function(r){var i=$("<div>");return i.irformArrayTags({name:r}),i};!function(t){t.fn.irformCustom=function(r,o){var i;return t(this).each(function(){i=t().irformCustom.x.call(this,r,o)}),"undefined"==typeof i?t(this):i},t.fn.irformCustom.x=function(r,o){var i=t.fn.irformCustom.defaults,a="create";switch("string"==typeof r&&(a=r),"create"!=a&&t(this).data("irformCustom")&&(i=t(this).data("irformCustom")),"object"!=typeof r&&"create"!=a||(i=t.extend(!0,{},i,r)),t(this).data("irformCustom",i),a){case"create":t.fn.irformCustom.create.call(this)}},t.fn.irformCustom.create=function(){t(this).addClass("irform irform-custom"),t(this).html("&nbsp;")},t.fn.irformCustom.defaults={value:null,hookValWrite:function(t){return[t,t]},hookValRead:function(t){return t}}}(jQuery),Irform.jQueryHookVal(".irform-custom",function(){var t=$(this).data("irformCustom");return t.hookValRead.call(this,t.value)},function(t){var r=$(this).data("irformCustom"),o=r.hookValWrite.call(this,t);r.value=o[0],$(this).data("irformCustom",r),$(this).html(o[1])});!function(e){e.fn.irformTinymce=function(i,t){var n;return e(this).each(function(){n=e().irformTinymce.x.call(this,i,t)}),"undefined"==typeof n?e(this):n},e.fn.irformTinymce.x=function(i){var t=e.fn.irformTinymce.defaults,n="create";switch("string"==typeof i&&(n=i),"create"!=n&&e(this).data("irformTinymce")&&(t=e(this).data("irformTinymce")),"object"==typeof i&&(t=e.extend(!0,{},t,i)),e(this).data("irformTinymce",t),n){case"create":e.fn.irformTinymce.create.call(this)}},e.fn.irformTinymce.create=function(){"undefined"==typeof e.fn.irformTinymce.create.id&&(e.fn.irformTinymce.create.id=0);var i=this,t=e(this).data("irformTinymce");e(this).addClass("irform-tinymce irform-pending"),e(this).attr("name",t.name),e(this).attr("id")||e(this).attr("id","irform-tinymce-id"+e.fn.irformTinymce.create.id++);var n=e.extend(!0,{selector:"#"+e(this).attr("id"),convert_urls:!1,file_browser_callback:function(n,r,a){t.callbackBrowser.call(i,a,function(i){e("#"+n).val(i)})},init_instance_callback:function(){t.callbackIsReady.call(i)},setup:function(t){t.on("change",function(){e(i).trigger("change")})}},t.tinymce);e(this).on("disable",function(){tinyMCE.get(e(this).prop("id")).setMode("readonly")}),e(this).on("enable",function(){tinyMCE.get(e(this).prop("id")).setMode("design")}),t.css&&(n.content_css=t.css),t.cssClass&&(n.body_class=t.cssClass),t.baseURL&&(n.document_base_url=t.baseURL),t.tinymceBase&&(tinymce.baseURL=t.tinymceBase),tinymce.suffix=".min",setTimeout(function(){tinymce.init(n)},100)},e.fn.irformTinymce.defaults={name:null,tinymceBase:null,baseURL:null,css:null,cssClass:null,callbackIsReady:function(){},callbackBrowser:function(){},tinymce:{menubar:!1,statusbar:!1,autoresize_max_height:e(window).innerHeight()-100,toolbar:"undo redo | styleselect | bold italic | forecolor | removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media table | code | fullscreen",plugins:["advlist autolink autoresize link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor"]}}}(jQuery),Irform.jQueryHookVal(".irform-tinymce",function(){return tinyMCE.get($(this).prop("id")).getContent()},function(e){return tinyMCE.get($(this).prop("id")).setContent(e)}),Irform.defaultOptions.fields.htmleditor=function(e,i,t){var n=$("<div>");return $(n).irformTinymce($.extend(!0,{},{name:e,callbackIsReady:function(){t.call(this)}},i.options)),n};!function(i){i.fn.irformFile=function(t,e){var n;return i(this).each(function(){n=i().irformFile.x.call(this,t,e)}),"undefined"==typeof n?i(this):n},i.fn.irformFile.x=function(t){var e=i.fn.irformFile.defaults,n="create";switch("string"==typeof t&&(n=t),"create"!=n&&i(this).data("irformFile")&&(e=i(this).data("irformFile")),"object"==typeof t&&(e=i.extend(!0,{},e,t)),i(this).data("irformFile",e),n){case"create":i.fn.irformFile.create.call(this)}},i.fn.irformFile.create=function(){var t=i(this).data("irformFile"),e=this,n=i("<div>",{class:"irform-group"}),r=i("<input>",{name:t.name,class:"irform"});i(n).append(r);for(var a in t.buttonList){var o=t.presets[t.buttonList[a]],l=i("<button>",{class:"irform",type:"button"});i(l).text(o.caption),i(l).data("irformFile",o),i(l).click(function(){var t=function(t){i(r).val(t)},n=i(e).data("irformFile"),a=i(this).data("irformFile");n.clean&&n.clean.call(e,t),n.clean=a.clean?a.clean:null,i(e).data("irformFile",n),a.action.call(e,t,a.options)}),i(n).append(l)}i(this).append(n)},i.fn.irformFile.defaults={name:"file",buttonList:["upload"],fileType:null,presets:{upload:{caption:"Upload",action:function(t,e){var n=i(this).data("irformFile"),r=i("<input>",{type:"file",class:"irform-file-upload",name:n.name+("multi"==e.mode?"[]":""),multiple:"multi"==e.mode});i(r).on("change",function(){var i="";if("object"==typeof this.files)for(var e=0;e<this.files.length;e++)i+=(i?" ":"")+'"'+this.files.item(e).name+'"';t(i)}),i(r).hide(),i(this).append(r),i(r).trigger("click")},options:{mode:"multi"},clean:function(t){t(""),i(this).find(".irform-file-upload").remove()}}}}}(jQuery),Irform.defaultOptions.fields.file=function(i,t){var e=$("<div>"),n={name:i};return"object"==typeof t.options&&(n=$.extend(!0,n,t.options)),$(e).irformFile(n),e};!function(a){a.fn.irformModal=function(o,t){var r;return a(this).each(function(){r=a().irformModal.x.call(this,o,t)}),"undefined"==typeof r?a(this):r},a.fn.irformModal.x=function(o){var t=a.fn.irformModal.defaults,r="create";switch("string"==typeof o&&(r=o),"create"!=r&&a(this).data("irformModal")&&(t=a(this).data("irformModal")),"object"==typeof o&&(t=a.extend(!0,{},t,o)),a(this).data("irformModal",t),r){case"create":a.fn.irformModal.create.call(this);break;case"close":a.fn.irformModal.close.call(this)}},a.fn.irformModal.defaults={zIndex:99999,closeOnClickOutside:!0,isCancel:!1,onValidate:null,validate:'<button class="irform" type="button"><span class="icon-check"></span>&nbsp;Validate</button>',cancel:'<button class="irform" type="button"><span class="icon-cross"></span>&nbsp;Cancel</button>'},a.fn.irformModal.create=function(){var o=this,t=a(this).data("irformModal"),r=a("<div>",{class:"irform-modal-container"}),n=a("<div>",{class:"irform-modal-content"});a(n).append(this),a(r).append(n);var i=a("<div>",{class:"irform-modal-control"});if(t.isCancel){var e=a("<span>");a(e).html(t.cancel),a(e).click(function(){a.fn.irformModal.close.call(o)}),a(i).append(e)}if(t.onValidate){var l=a("<span>");a(l).html(t.validate),a(l).click(function(){var t=a(o).data("irformModal");t.onValidate.call(o),a.fn.irformModal.close.call(o)}),a(i).append(l)}a(r).append(i);var s=a("<div>",{class:"irform-modal"});a(s).css({top:0,left:0,width:"100%",height:"100%",position:"fixed",zIndex:t.zIndex}),a(s).append(r),t.container=s,t.overflow=a("body").css("overflow"),a(this).data("irformModal",t),t.closeOnClickOutside&&(a(s).data("irformModal",0),a(s).mousedown(function(o){a(this).data("irformModal",o)}).mouseup(function(t){var r=a(this).data("irformModal");r&&Math.abs(r.pageX-t.pageX)<5&&Math.abs(r.pageY-t.pageY)<5&&(t.preventDefault(),a.fn.irformModal.close.call(o)),a(this).data("irformModal",0)}),a(r).mousedown(function(a){return a.stopPropagation(),!1}).mouseup(function(a){return a.stopPropagation(),!1})),a("body").append(s),a("body").css("overflow","hidden")},a.fn.irformModal.close=function(){var o=a(this).data("irformModal");a(o.container).remove(),a("body").css("overflow",o.overflow)}}(jQuery);irRequire("IrexplorerDialog",function(){var e=function(e,i){"undefined"==typeof r&&(r={});var r=$(this).data("irformFile");r&&r.fileType&&(i=$.extend(!0,i,{irexplorer:{showType:["folder",r.fileType]}})),new IrexplorerDialog($.extend(!0,{},{relative:!0,onValidate:function(i){e(i)}},i))};$().irformTinymce.defaults.callbackBrowser=function(i,r){var o="file";switch(i){case"image":o="image"}e(r,{mode:o})},$().irformFile.defaults.buttonList.push("browse"),$().irformFile.defaults.presets.browse={caption:"Browse",action:e},$().irformFile.defaults.presets.image={caption:"Select Image",options:{mode:"image"},action:e},$().irformFile.defaults.presets.directory={caption:"Select Directory",options:{mode:"directory"},action:e}},null,0);